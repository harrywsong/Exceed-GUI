<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Discord Bot Management UI</title>
    <!-- Link to your custom CSS file -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <!-- Font Awesome for icons (e.g., for control panel buttons) -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <!-- Chart.js for graphs and charts -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.3/dist/chart.umd.min.js"></script>
</head>
<body>
    <div class="container">
        <h1><i class="fab fa-discord"></i> Discord Bot Management</h1>

        <!-- Dashboard Section -->
        <div class="card dashboard">
            <h2><i class="fas fa-tachometer-alt"></i> Dashboard Overview</h2>
            <div class="stats-grid">
                <div class="stat-item">
                    <h3>Bot Status</h3>
                    <p>Status: <span id="status" class="status-indicator loading">Loading...</span></p>
                    <p>Uptime: <span id="uptime">Loading...</span></p>
                    <p>Latency: <span id="latency">Loading...</span></p>
                </div>
                <div class="stat-item">
                    <h3>Quick Stats</h3>
                    <p>Commands Used Today: <span id="commands-today">Loading...</span></p>
                    <p>Active Users: <span id="active-users">Loading...</span></p>
                    <p>Server Count: <span id="server-count">Loading...</span></p>
                </div>
            </div>
        </div>

        <!-- Bot Control Panel Section -->
        <div class="card bot-control-panel">
            <h2><i class="fas fa-gamepad"></i> Bot Control Panel</h2>
            <div class="control-buttons">
                <button id="restart-bot-btn" class="control-btn"><i class="fas fa-redo"></i> Restart Bot</button>
                <button id="reload-cogs-btn" class="control-btn"><i class="fas fa-sync-alt"></i> Reload Cogs</button>
                <button id="update-git-btn" class="control-btn"><i class="fas fa-code-branch"></i> Update from Git</button>
            </div>
            <p id="control-status-message" class="message"></p>
        </div>

        <!-- Send Announcement Section -->
        <div class="card announcement-sender">
            <h2><i class="fas fa-bullhorn"></i> Send Announcement</h2>
            <div class="form-group">
                <label for="announcement-message">Message:</label>
                <textarea id="announcement-message" rows="4" placeholder="Enter your announcement message"></textarea>
            </div>
            <div class="form-group">
                <label for="announcement-channel">Channel ID (e.g., 123456789012345678):</label>
                <input type="text" id="announcement-channel" placeholder="Enter Discord channel ID">
            </div>
            <button id="send-announcement-btn"><i class="fas fa-paper-plane"></i> Send Announcement</button>
            <p id="announcement-status-message" class="message"></p>
        </div>

        <!-- Command Usage Stats Section -->
        <div class="card command-stats">
            <h2><i class="fas fa-chart-bar"></i> Command Usage Statistics</h2>
            <div class="chart-container">
                <canvas id="commandUsageChart"></canvas>
            </div>
            <div class="stats-details">
                <h3>Top Commands</h3>
                <ul id="top-commands-list">
                    <!-- Top commands will be populated here by JS -->
                </ul>
            </div>
        </div>

        <!-- Logs Viewer Section -->
        <div class="card logs-viewer">
            <h2><i class="fas fa-clipboard-list"></i> Live Logs</h2>
            <div class="log-controls">
                <input type="text" id="log-filter" placeholder="Filter logs...">
                <select id="log-level-filter">
                    <option value="all">All Levels</option>
                    <option value="info">INFO</option>
                    <option value="warn">WARN</option>
                    <option value="error">ERROR</option>
                </select>
                <button id="clear-logs-btn"><i class="fas fa-eraser"></i> Clear View</button>
                <button id="download-logs-btn"><i class="fas fa-download"></i> Download</button>
            </div>
            <div class="log-output" id="log-output">
                <!-- Log messages will be appended here by JS -->
            </div>
        </div>

        <!-- Configuration Viewer Section (FIXED) -->
        <div class="card config-viewer">
            <h2><i class="fas fa-cogs"></i> Configuration Viewer</h2>
            <p><i>Displaying non-sensitive values from the bot's configuration file.</i></p>
            <div id="config-output" class="config-list">
                <p>Loading configuration...</p>
            </div>
        </div>

        <!-- Reaction Roles Editor (Placeholder - Complex UI) -->
        <div class="card reaction-roles">
            <h2><i class="fas fa-hand-pointer"></i> Reaction Roles Editor (Advanced)</h2>
            <p>This section would provide a visual editor for setting up reaction roles.</p>
            <button disabled>Manage Reaction Roles (Coming Soon)</button>
        </div>

    </div>

    <!-- Link to your custom JavaScript file -->
    <script src="{{ url_for('static', filename='js/script.js') }}"></script>
</body>
</html>
